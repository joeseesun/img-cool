import { DEFAULT_FONT_SIZE } from "./constants.js";
import { graphToDrawnix } from "./graphToDrawnix.js";
import { parseMermaid } from "./parseMermaid.js";
const parseMermaidToDrawnix = async (definition, config) => {
    const mermaidConfig = config || {};
    const fontSize = parseInt(mermaidConfig.themeVariables?.fontSize ?? "") || DEFAULT_FONT_SIZE;
    const parsedMermaidData = await parseMermaid(definition, {
        ...mermaidConfig,
        themeVariables: {
            ...mermaidConfig.themeVariables,
            // Multiplying by 1.25 to increase the font size by 25% and render correctly in Drawnix
            fontSize: `${fontSize * 1.25}px`,
        },
    });
    // Only font size supported for drawnix elements
    const drawnixElements = graphToDrawnix(parsedMermaidData, {
        fontSize,
    });
    return drawnixElements;
};
export { parseMermaidToDrawnix };
